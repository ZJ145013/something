mixed-port 7890
allow-lan true
bind-address ''
mode rule
log-level error
ipv6 true
external-controller 127.0.0.19090
external-ui .UI
external-ui-url httpsghfast.tophttpsgithub.comZephyrusozashboardarchiverefsheadsgh-pages.zip
keep-alive-interval 15
keep-alive-idle 15
tcp-concurrent true
unified-delay true
geo-auto-update true
geo-update-interval 24
geox-url {geoip httpstestingcf.jsdelivr.netghMetaCubeXmeta-rules-dat@releasegeoip.dat, geosite httpstestingcf.jsdelivr.netghMetaCubeXmeta-rules-dat@releasegeosite.dat, mmdb httpstestingcf.jsdelivr.netghMetaCubeXmeta-rules-dat@releasecountry.mmdb, asn httpstestingcf.jsdelivr.netghMetaCubeXmeta-rules-dat@releaseGeoLite2-ASN.mmdb
}
profile {store-selected true, store-fake-ip true
}
# enable false=关闭DNS，true=开启（开启TUN模式时建议启用）。enhanced-mode fake-ip=虚拟IP模式(推荐), redir-host=真实IP模式。nameserver 上游DNS服务器（可根据地区修改为更快的DNS）
dns {enable false, ipv6 true, enhanced-mode fake-ip, fake-ip-range 198.18.0.116, fake-ip-filter [.lan,
    ,.local,geositeprivate,geositecn
  ], nameserver [system,
    223.5.5.5,
    119.29.29.29
  ]
}
# enable false=关闭TUN模式，true=开启（开启后为全局系统代理，需管理员权限）
tun {enable false, stack system, dns-hijack [any53, tcpany53
  ], auto-route true, auto-redirect true, auto-detect-interface true
}
# 这里可以根据需要修改策略组名称、添加或删除策略组
proxy-groups
  # PROXY 主代理组（可自定义添加其他策略组到proxies列表中）
  - {name PROXY, type select, proxies [AUTO,DIRECT,AI-PROXY
  ], include-all true, max-failed-times 1, interval 600, timeout 1000, lazy false
}
  # AUTO 自动选择最快节点（use中填写你使用的provider名称，或者用include-all）
  - {name AUTO, type url-test, url httpscp.cloudflare.comgenerate_204, max-failed-times 1, interval 600, timeout 1000, use [Provider1,Provider2
  ], lazy false
}
  # AI-PROXY AI服务专用代理（exclude-filter可过滤不想用的地区，如HKUSJP）
  - {name AI-PROXY, type select, url httpscp.cloudflare.comgenerate_204, max-failed-times 1, interval 600, timeout 1000, use [Provider1,Provider2
  ], exclude-filter HK香港Hong Kong, lazy false
}

# 需要将订阅链接填入url字段中，filter 可填写正则表达式过滤节点，如香港HKTaiwan台湾，additional-prefix 可为节点名称添加前缀，如[宝可梦
] 
proxy-providers
  Provider1 {type http, url , interval 3600, timeout 1000, path .profilesProvider1, filter , health-check {enable true, interval 600, url httpscp.cloudflare.comgenerate_204
  }, override {skip-cert-verify true, additional-prefix
  }
}
  Provider2 {type http, url , interval 3600, timeout 1000, path .profilesProvider2, filter , health-check {enable true, interval 600, url httpscp.cloudflare.comgenerate_204
  }, override {skip-cert-verify true, additional-prefix
  }
}
  # 如需添加更多订阅源，可复制上面的格式继续添加
 

# 规则优先级从上到下，匹配到即停止
rules
# ========== AI服务专用代理规则 ==========
# AI-PROXY策略组：适用于ChatGPT、Claude等AI服务（可根据需要添加或删除）
 - DOMAIN-SUFFIX,ping0.cc,AI-PROXY
 - DOMAIN-SUFFIX,ipdata.co,AI-PROXY
 - DOMAIN-SUFFIX,pingip.cn,AI-PROXY
# PROXY策略组：需要代理访问的域名（根据个人需求自由添加）
 - DOMAIN-SUFFIX,live.com,PROXY
 - DOMAIN-SUFFIX,teracloud.jp,PROXY
# ========== 直连规则 ==========
# DIRECT策略组：不走代理直接连接（根据个人需求自由添加）
 - DOMAIN-SUFFIX,msftconnecttest.com,DIRECT
 - DOMAIN-SUFFIX,msftncsi.com,DIRECT
 - DOMAIN-SUFFIX,steamserver.net,DIRECT
 - DOMAIN-SUFFIX,steamcontent.com,DIRECT
 - DOMAIN-SUFFIX,linux.do,DIRECT
 - DOMAIN,stun.l.google.com,DIRECT
 - DOMAIN-SUFFIX,edu.cn,DIRECT
 - DOMAIN-SUFFIX,v6.navy,DIRECT
 - DOMAIN-SUFFIX,dynv6.com,DIRECT
# ========== 基于GeoSite的智能分流规则 ==========
# 以下为固定规则，一般无需修改
# 如需调整某个服务的策略，可修改后面的策略组名称
 - GEOSITE,cursor,AI-PROXY
 - GEOSITE,telegram,PROXY
 - GEOSITE,google,AI-PROXY
 - GEOSITE,steam@cn,DIRECT
 - GEOSITE,category-games@cn,DIRECT
 - GEOSITE,category-ai-!cn,AI-PROXY
 - GEOSITE,category-ai-cn,DIRECT
 - GEOSITE,onedrive,DIRECT
 - GEOSITE,private,DIRECT
 - GEOSITE,category-scholar-!cn,PROXY
 - GEOSITE,microsoft@cn,DIRECT
 - GEOSITE,apple-cn,DIRECT
 - GEOSITE,geolocation-!cn,PROXY
 - GEOSITE,CN,DIRECT
 - GEOIP,private,DIRECT,no-resolve
 - GEOIP,telegram,PROXY,no-resolve
 - GEOIP,CN,DIRECT
 # 兜底规则：以上规则都不匹配时使用PROXY代理
 - MATCH,PROXY